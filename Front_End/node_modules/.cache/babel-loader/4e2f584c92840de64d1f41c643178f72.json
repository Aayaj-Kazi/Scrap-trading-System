{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\Front_End\\\\src\\\\components\\\\pages\\\\SellCar\\\\Sellcar.js\";\nimport React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport './Sellcar.css';\nimport NavBar1 from './../NavBar/Navabar1/NavBar1';\nimport CustHome from './../CustomerHome/CustHome';\nimport GetMyCars from './GetMyCars';\nimport UserContext from './../../Session/Session';\n\nconst Sellcar = () => {\n  const {\n    value,\n    setValue\n  } = useContext(UserContext);\n  const url = 'http://localhost:8080';\n  const [companyId, setCompanyId] = useState('');\n  const [userId, setUserId] = useState('');\n  const [modelId, setModelId] = useState('');\n  const [fuelType, setFuelType] = useState('');\n  const [kmDriven, setKmDriven] = useState('');\n  const [price, setPrice] = useState('');\n  const [color, setColor] = useState('');\n  const [date, setDate] = useState('');\n  const [city, setCity] = useState('');\n  const [carImage, setCarImage] = useState('');\n  const [carNumber, setCarNumber] = useState('');\n  const [carDocument, setCarDocument] = useState('');\n  const [companies, setCompanies] = useState([]);\n  const [models, setModels] = useState([]);\n  useEffect(() => {\n    loadCompanies();\n  }, []); //get api on load\n\n  const loadCompanies = async () => {\n    const result = await axios.get(url + '/getcompanies');\n    setCompanies(result.data.data);\n    setUserId(value.data.userId);\n    console.log(result.data.userId);\n  }; //get api on change\n\n\n  const loadModels = async e => {\n    const cid = e.target.value;\n    setCompanyId(cid);\n    const result = await axios.get(url + '/getmodels');\n    setModels(result.data.data);\n    console.log(result.data);\n  };\n\n  const history = useHistory();\n\n  const sellCar = () => {\n    if (fuelType.length === 0) {\n      alert('Enter Fuel Type');\n    } else if (kmDriven.length === 0) {\n      alert('Enter Kms driven ');\n    } else if (price.length === 0) {\n      alert('Enter Price');\n    } else if (color.length === 0) {\n      alert('Enter Car Color');\n    } else if (date.length === 0) {\n      alert('Enter Date');\n    } else if (city.length === 0) {\n      alert('Enter city');\n    } else if (carImage.length === 0) {\n      alert('Enter state');\n    } else {\n      const data = new FormData();\n      data.append('companyId', companyId);\n      data.append('userId', userId);\n      data.append('modelId', modelId);\n      data.append('fuelType', fuelType);\n      data.append('price', price);\n      data.append('color', color);\n      data.append('date', date);\n      data.append('city', city);\n      data.append('kmDriven', kmDriven);\n      data.append('carImage', carImage);\n      console.log(value.data); // http://localhost:8080/postcar\n\n      axios.post(url + '/postcar', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          alert('Car Added Sucesssfully');\n          history.push('/CustHome');\n        } else {\n          alert('Error While Adding Data');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"center\", {\n    className: \" bg-colo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, \"SellCar Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"Select Companies\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: loadModels,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, companies.map((company, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: company.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, company.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"Select Models\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setModelId(event.target.value);\n    },\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, models.map((model, index) => /*#__PURE__*/React.createElement(\"option\", {\n    value: model.modelId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, model.modelname)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"Fuel Type\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setFuelType(event.target.value);\n    },\n    placeholder: \"Petrol/Diesel/CNG\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setPrice(event.target.value);\n    },\n    placeholder: \"Enter Price\",\n    className: \"form-control input-maargin\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, \"KMs Driven\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setKmDriven(event.target.value);\n    },\n    placeholder: \"enter KMs driven\",\n    className: \"form-control input-maargin\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setColor(event.target.value);\n    },\n    placeholder: \"enter vehicle color\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      // updating the state with user entered value\n      setCity(event.target.value);\n    },\n    placeholder: \"Enter City\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setDate(event.target.value);\n    },\n    className: \"form-control input-maargin\",\n    type: \"Date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, \"Car Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setCarImage(event.target.files[0]);\n    },\n    className: \"form-control input-maargin\",\n    type: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }, \"Car Number\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setCarNumber(event.target.value);\n    },\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 13\n    }\n  }, \"Car Document\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setCarDocument(event.target.files[0]);\n    },\n    className: \"form-control input-maargin\",\n    type: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sellCar,\n    className: \"btn btn-success input-maargin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }, \"Submit Car\")))));\n};\n\nexport default Sellcar;","map":{"version":3,"sources":["D:/Project/Front_End/src/components/pages/SellCar/Sellcar.js"],"names":["React","Link","useHistory","useState","useEffect","useContext","axios","NavBar1","CustHome","GetMyCars","UserContext","Sellcar","value","setValue","url","companyId","setCompanyId","userId","setUserId","modelId","setModelId","fuelType","setFuelType","kmDriven","setKmDriven","price","setPrice","color","setColor","date","setDate","city","setCity","carImage","setCarImage","carNumber","setCarNumber","carDocument","setCarDocument","companies","setCompanies","models","setModels","loadCompanies","result","get","data","console","log","loadModels","e","cid","target","history","sellCar","length","alert","FormData","append","post","then","response","status","push","map","company","index","id","name","event","model","modelname","files"],"mappings":"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","sourcesContent":["\r\nimport React from 'react'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useState, useEffect,useContext } from 'react'\r\nimport axios from 'axios';\r\nimport './Sellcar.css'\r\nimport NavBar1 from './../NavBar/Navabar1/NavBar1'\r\nimport CustHome from './../CustomerHome/CustHome';\r\nimport GetMyCars from './GetMyCars';\r\nimport UserContext from './../../Session/Session';\r\n\r\nconst Sellcar = () => {\r\n\r\n  const {value,setValue}=useContext(UserContext)\r\n  const url = 'http://localhost:8080'\r\n  const [companyId, setCompanyId] = useState('')\r\n  const [userId, setUserId] = useState('')\r\n  const [modelId, setModelId] = useState('')\r\n  const [fuelType, setFuelType] = useState('')\r\n  const [kmDriven, setKmDriven] = useState('')\r\n  const [price, setPrice] = useState('')\r\n  const [color, setColor] = useState('')\r\n  const [date, setDate] = useState('')\r\n  const [city, setCity] = useState('')\r\n  const [carImage, setCarImage] = useState('')\r\n  const [carNumber, setCarNumber] = useState('')\r\n  const [carDocument, setCarDocument] = useState('')\r\n  const [companies, setCompanies] = useState([]);\r\n  const [models, setModels] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n \r\n  //get api on load\r\n  const loadCompanies = async () => {\r\n    const result = await axios.get(url+'/getcompanies');\r\n    setCompanies(result.data.data);\r\n    setUserId(value.data.userId)\r\n    console.log(result.data.userId);\r\n  };\r\n\r\n   //get api on change\r\n  const loadModels = async (e) => {\r\n    const cid=e.target.value\r\n    setCompanyId(cid)\r\n    const result = await axios.get(url+'/getmodels');\r\n    setModels(result.data.data);\r\n    console.log(result.data);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const sellCar = () => {\r\n   if (fuelType.length === 0) {\r\n      alert('Enter Fuel Type')\r\n    }\r\n    else if (kmDriven.length === 0) {\r\n      alert('Enter Kms driven ')\r\n    }\r\n    else if (price.length === 0) {\r\n      alert('Enter Price')\r\n    }\r\n    else if (color.length === 0) {\r\n      alert('Enter Car Color')\r\n    }\r\n    else if (date.length === 0) {\r\n      alert('Enter Date')\r\n    }\r\n    else if (city.length === 0) {\r\n      alert('Enter city')\r\n    }\r\n    else if (carImage.length === 0) {\r\n      alert('Enter state')\r\n    }\r\n    else {\r\n      const data = new FormData()\r\n      data.append('companyId', companyId)\r\n      data.append('userId',userId)\r\n      data.append('modelId', modelId)\r\n      data.append('fuelType', fuelType);\r\n      data.append('price', price);\r\n      data.append('color', color);\r\n      data.append('date', date);\r\n      data.append('city', city);\r\n      data.append('kmDriven', kmDriven);\r\n      data.append('carImage', carImage);\r\n      console.log(value.data)\r\n\r\n      // http://localhost:8080/postcar\r\n\r\n      axios.post(url + '/postcar', data).then((response) => {\r\n        const result = response.data\r\n        if (result.status === 'success') {\r\n          alert('Car Added Sucesssfully')\r\n          history.push('/CustHome')\r\n        }\r\n        else {\r\n          alert('Error While Adding Data')\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <NavBar1 />\r\n      {/* <GetMyCars /> */}\r\n      <center className=\" bg-colo\">\r\n        <h1>SellCar Page</h1>\r\n        <div>\r\n          <div className= \"col-md-4 \">\r\n            <label >Select Companies</label>\r\n              <select \r\n                onChange={loadModels}    \r\n                className=\"form-control\">\r\n                {companies.map((company, index ) => (\r\n                  <option value={company.id}>{company.name}</option>\r\n                ))}\r\n              </select>\r\n          </div>\r\n\r\n          \r\n\r\n          <div className=\"col-md-4 \">\r\n            <label >Select Models</label>\r\n              <select \r\n                onChange={(event) => {\r\n                  setModelId(event.target.value)\r\n                }}\r\n                className=\"form-control\"  >\r\n                {models.map((model, index) => (\r\n                  <option value={model.modelId}>{model.modelname}</option>\r\n                ))}\r\n              </select>\r\n          </div>\r\n\r\n      \r\n          <div className=\"col-md-4 \">\r\n            <label>Fuel Type</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setFuelType(event.target.value)\r\n              }}\r\n              placeholder=\"Petrol/Diesel/CNG\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-md-4\">\r\n            <label>Price</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setPrice(event.target.value)\r\n              }}\r\n              placeholder=\"Enter Price\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"number\"\r\n            />\r\n\r\n          </div>\r\n          <div className=\"col-md-4 \">\r\n            <label>KMs Driven</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setKmDriven(event.target.value)\r\n              }}\r\n              placeholder=\"enter KMs driven\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 \">\r\n            <label>Color</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setColor(event.target.value)\r\n              }}\r\n              placeholder=\"enter vehicle color\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 \">\r\n            <label>City</label>\r\n            <input\r\n              onChange={(event) => {\r\n                // updating the state with user entered value\r\n                setCity(event.target.value)\r\n              }}\r\n              placeholder=\"Enter City\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-4 \">\r\n            <label>Date</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setDate(event.target.value)\r\n              }}\r\n\r\n              className=\"form-control input-maargin\"\r\n              type=\"Date\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-md-4 \">\r\n            <label>Car Image</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setCarImage(event.target.files[0])\r\n              }}\r\n\r\n              className=\"form-control input-maargin\"\r\n              type=\"file\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-md-4 \">\r\n            <label>Car Number</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setCarNumber(event.target.value)\r\n              }}\r\n\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-md-4 \">\r\n            <label>Car Document</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setCarDocument(event.target.files[0])\r\n              }}\r\n\r\n              className=\"form-control input-maargin\"\r\n              type=\"file\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-md-4 \">\r\n            <button onClick={sellCar} className=\"btn btn-success input-maargin\">\r\n              Submit Car\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </center>\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default Sellcar\r\n"]},"metadata":{},"sourceType":"module"}